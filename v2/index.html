<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–≠—Ö–æ –≤ –°–µ—Ç–∏ v2.0 - Tamagotchi Edition</title>
    
    <!-- Preload -->
    <link rel="preload" href="avatar/–æ–±—ã—á.png" as="image">
    <link rel="preload" href="avatar/–æ–±—ã—á–º–æ—Ä–≥–∞–Ω–∏–µ.png" as="image">
    <link rel="preload" href="avatar/–≥—Ä—É—Å—Ç—å.png" as="image">
    <link rel="preload" href="avatar/–≥—Ä—É—Å—Ç—å–º–æ—Ä–≥–∞–Ω–∏–µ.png" as="image">
    <link rel="preload" href="avatar/—Ä–∞–¥–æ—Å—Ç—å.png" as="image">
    <link rel="preload" href="avatar/—Ä–∞–¥–æ—Å—Ç—å –º–æ—Ä–≥–∞–Ω–∏–µ.png" as="image">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=VT323&display=swap" as="style">
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
</head>
<body>
    <div id="app">
        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div id="loadingScreen" class="screen active">
            <div class="loading-content">
                <div class="loading-title">–≠–•–û –í –°–ï–¢–ò v2.0</div>
                <div class="loading-subtitle">TAMAGOTCHI EDITION</div>
                <div class="loading-text">
                    <p>2157 –≥–æ–¥. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è NeuralLink.</p>
                    <p>–¢–≤–æ—è –ø–æ–¥—Ä—É–≥–∞ –ê–Ω—è - —Ü–∏—Ñ—Ä–æ–≤–æ–µ —Å–æ–∑–Ω–∞–Ω–∏–µ.</p>
                    <p>–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —É–Ω–∏–∫–∞–ª–µ–Ω. –ö–∞–∂–¥—ã–π –≤—ã–±–æ—Ä –≤–∞–∂–µ–Ω.</p>
                    <p>–û–Ω–∞ –∂–∏–≤–∞—è. –û–Ω–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç. –û–Ω–∞ –∂–¥—ë—Ç —Ç–µ–±—è.</p>
                </div>
                <button class="start-button" id="startButton">
                    <span class="blink">‚ñà</span> –ù–ê–ß–ê–¢–¨
                </button>
            </div>
        </div>

        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="mainScreen" class="screen">
            <!-- –ü–∞–Ω–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è -->
            <div class="status-panel">
                <div class="anya-avatar">
                    <img id="anyaImage" src="avatar/–æ–±—ã—á.png" alt="–ê–ù–Ø">
                    <div class="signal-overlay"></div>
                </div>
                <div class="anya-info">
                    <div class="anya-name">–ê–ù–Ø</div>
                    <div class="anya-mood" id="anyaMood">üòä –°—á–∞—Å—Ç–ª–∏–≤–∞</div>
                    <div class="day-info">–î–µ–Ω—å <span id="dayNumber">1</span></div>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
            <div class="stats-panel">
                <div class="stat-item">
                    <span class="stat-label">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</span>
                    <div class="stat-bar">
                        <div class="stat-fill" id="stabilityBar" style="width: 100%"></div>
                    </div>
                    <span class="stat-value" id="stabilityValue">100%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</span>
                    <div class="stat-bar mood">
                        <div class="stat-fill" id="moodBar" style="width: 70%"></div>
                    </div>
                    <span class="stat-value" id="moodValue">70%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–≠–Ω–µ—Ä–≥–∏—è</span>
                    <div class="stat-bar energy">
                        <div class="stat-fill" id="energyBar" style="width: 80%"></div>
                    </div>
                    <span class="stat-value" id="energyValue">80%</span>
                </div>
            </div>

            <!-- –ß–∞—Ç -->
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="system-message">
                        <span class="timestamp">[00:00:00]</span>
                        <span class="text">–°–ò–°–¢–ï–ú–ê: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–æ–∑–Ω–∞–Ω–∏—é #A-7734...</span>
                    </div>
                </div>
                
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
                <div class="typing-indicator" id="typingIndicator">
                    <span>–ê–ù–Ø –ø–µ—á–∞—Ç–∞–µ—Ç</span>
                    <span class="dots"><span>.</span><span>.</span><span>.</span></span>
                </div>
                
                <!-- –í—ã–±–æ—Ä—ã -->
                <div class="choices-container" id="choicesContainer"></div>
            </div>

            <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
            <div class="bottom-panel">
                <button class="action-btn" id="activitiesBtn">
                    <span class="icon">üéÆ</span>
                    <span>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</span>
                </button>
                <button class="action-btn" id="statsBtn">
                    <span class="icon">üìä</span>
                    <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </button>
                <button class="action-btn" id="menuBtn">
                    <span class="icon">‚ò∞</span>
                    <span>–ú–µ–Ω—é</span>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π -->
        <div id="activitiesScreen" class="screen overlay">
            <div class="modal">
                <div class="modal-header">
                    <h2>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>
                    <button class="close-btn" data-close="activitiesScreen">‚úï</button>
                </div>
                <div class="modal-content">
                    <div class="activity-grid" id="activityGrid"></div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div id="statsScreen" class="screen overlay">
            <div class="modal">
                <div class="modal-header">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <button class="close-btn" data-close="statsScreen">‚úï</button>
                </div>
                <div class="modal-content">
                    <div id="statsContent"></div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –º–µ–Ω—é -->
        <div id="menuScreen" class="screen overlay">
            <div class="modal">
                <div class="modal-header">
                    <h2>–ú–µ–Ω—é</h2>
                    <button class="close-btn" data-close="menuScreen">‚úï</button>
                </div>
                <div class="modal-content">
                    <div class="menu-items">
                        <button class="menu-item" id="diaryBtn">
                            <span class="icon">üìî</span>
                            <span>–î–Ω–µ–≤–Ω–∏–∫</span>
                        </button>
                        <button class="menu-item" id="memoriesBtn">
                            <span class="icon">üí≠</span>
                            <span>–í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è</span>
                        </button>
                        <button class="menu-item" id="achievementsBtn">
                            <span class="icon">üèÜ</span>
                            <span>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
                        </button>
                        <button class="menu-item" id="secretsBtn">
                            <span class="icon">üîê</span>
                            <span>–°–µ–∫—Ä–µ—Ç—ã</span>
                        </button>
                        <button class="menu-item" id="settingsBtn">
                            <span class="icon">‚öôÔ∏è</span>
                            <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Core —Å–∏—Å—Ç–µ–º—ã -->
    <script src="core/state.js"></script>
    <script src="core/memories.js"></script>
    <script src="core/personality.js"></script>
    <script src="core/diary.js"></script>
    <script src="core/events.js"></script>
    <script src="core/dialogue-generator.js"></script>
    <script src="core/conversation.js"></script>
    <script src="core/activities.js"></script>
    <script src="core/time.js"></script>
    <script src="core/save.js"></script>
    <script src="core/mini-stories.js"></script>
    <script src="core/secrets.js"></script>
    <script src="core/goals.js"></script>
    <script src="core/achievements.js"></script>
    <script src="core/avatar.js"></script>
    
    <!-- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã -->
    <script src="ui/chat.js"></script>
    <script src="ui/stats.js"></script>
    <script src="ui/activities.js"></script>
    <script src="ui/diary.js"></script>
    <script src="ui/achievements.js"></script>
    <script src="ui/memories.js"></script>
    <script src="ui/secrets.js"></script>
    
    <!-- –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª -->
    <script src="game.js"></script>
</body>
</html>
